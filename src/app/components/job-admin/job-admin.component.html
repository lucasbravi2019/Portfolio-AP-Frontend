<section>
    <h3>Jobs</h3>
    <button (click)="crear()">
        <fa-icon [icon]="faplus"></fa-icon>
    </button>
    <form *ngIf="operacion === 1 || operacion === 2">
        <label for="company-name">Company Name</label>
        <input type="text" name="company-name" [(ngModel)]="jobForm.companyName">
        <label for="job-role">Job Role</label>
        <input type="text" name="job-role" [(ngModel)]="jobForm.jobRole">
        <label for="job-description">Job Description</label>
        <input type="text" name="job-description" [(ngModel)]="jobForm.jobDescription">
        <label for="start-date">Start Date</label>
        <input type="date" name="start-date" [(ngModel)]="jobForm.startDate">
        <label for="end-date">End Date</label>
        <input type="date" name="end-date" [(ngModel)]="jobForm.endDate">
        <label for="persona-id">Persona ID</label>
        <select name="persona-id" [(ngModel)]="jobForm.personaId">
            <option [value]="null" [selected]="true" [disabled]="true">Persona ID</option>
            <option [value]="persona?.id">{{ persona?.firstName }}
            </option>
        </select>
        <button *ngIf="operacion === 1" (click)="createJobs()">Guardar</button>
        <button *ngIf="operacion === 2" (click)="updateJobs()">Actualizar</button>
    </form>
    <div *ngIf="isLoading" class="isLoading"></div>
    <div *ngIf="!isLoading && jobList.length > 0">
        <table>
            <tr>
                <th>Company Name</th>
                <th>Role</th>
                <th>Description</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
            <tr *ngFor="let job of this.jobList">
                <td>{{ job.companyName }}</td>
                <td>{{ job.jobRole }}</td>
                <td>{{ job.jobDescription }}</td>
                <td>{{ job.startDate }}</td>
                <td>{{ job.endDate }}</td>
                <td><button (click)="actualizar(job)">Edit</button></td>
                <td><button (click)="borrar(job.id)">Delete</button></td>
            </tr>
        </table>
    </div>
</section>